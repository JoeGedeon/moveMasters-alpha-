<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>MoveMasters OS | Alpha Titan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&family=Fira+Code:wght@400;500&display=swap');
        
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background-color: #000000; 
            color: #ffffff; 
            margin: 0;
            display: flex;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        /* 1. CLEAN SCROLLABLE SIDEBAR */
        .sidebar {
            width: 280px;
            background-color: #050505;
            border-right: 1px solid #1a1a1a;
            height: 100vh;
            flex-shrink: 0; 
            display: flex;
            flex-direction: column;
            z-index: 1000;
        }

        .sidebar-scroll {
            flex-grow: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            padding-bottom: 40px;
        }

        .nav-btn {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 18px 28px;
            font-size: 15px;
            font-weight: 700;
            color: #555;
            cursor: pointer;
            transition: 0.2s;
            border-left: 4px solid transparent;
        }

        .nav-btn:hover:not(.active) {
            background-color: rgba(255, 255, 255, 0.03);
            color: #fff;
        }

        .nav-btn.active {
            background-color: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
            border-left-color: #3b82f6;
        }

        /* 2. MAIN DASHBOARD AREA */
        .main-stage {
            flex-grow: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            background: #000;
            padding: 50px 70px;
            position: relative;
        }

        .titan-title {
            font-size: clamp(48px, 10vw, 90px);
            font-weight: 900;
            font-style: italic;
            text-transform: uppercase;
            letter-spacing: -0.05em;
            background: linear-gradient(to right, #ffffff, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1;
            margin-bottom: 30px;
        }

        /* 3. INDESTRUCTIBLE WALL CALENDAR (TABLE) */
        .card {
            background: #0d0d0d;
            border: 1px solid #1a1a1a;
            border-radius: 40px;
            padding: 35px;
            width: 100%;
        }

        table {
            width: 100%;
            table-layout: fixed; /* FORCES 7 EQUAL COLUMNS */
            border-collapse: separate;
            border-spacing: 8px;
        }

        th {
            text-align: center;
            font-size: 11px;
            font-weight: 800;
            color: #333;
            padding-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 0.2em;
        }

        .date-tile {
            background: #111;
            border: 1px solid #1a1a1a;
            border-radius: 18px;
            height: 100px;
            padding: 12px;
            vertical-align: top;
            cursor: pointer;
            transition: 0.2s;
        }

        .date-tile:hover { border-color: #3b82f6; }
        .date-tile:active { transform: scale(0.96); }

        .job-node-marker {
            width: 100%;
            height: 5px;
            background: #3b82f6;
            border-radius: 10px;
            margin-top: auto;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.4);
        }

        /* 4. NODE EDITOR PANEL */
        .node-editor {
            background: #0d0d0d;
            border: 1px solid #1a1a1a;
            border-radius: 40px;
            padding: 40px;
            margin-top: 40px;
            border-left: 8px solid #3b82f6;
        }

        .node-input {
            background: #050505;
            border: 1px solid #1a1a1a;
            padding: 20px;
            border-radius: 18px;
            width: 100%;
            color: white;
            font-weight: 700;
            margin-top: 10px;
            outline: none;
            font-size: 18px;
        }

        .hidden { display: none !important; }
        .no-select { -webkit-user-select: none; user-select: none; }
        
        /* Custom scrollbar for sidebar */
        .sidebar-scroll::-webkit-scrollbar { width: 3px; }
        .sidebar-scroll::-webkit-scrollbar-thumb { background: #222; border-radius: 10px; }
    </style>
</head>
<body class="no-select">

    <!-- SIDEBAR: CLEAN & SCROLLABLE -->
    <aside class="sidebar">
        <div class="p-10 border-b border-white/5">
            <h2 class="text-[12px] font-black uppercase tracking-[0.6em] text-blue-500 italic">MoveMasters</h2>
        </div>
        
        <div class="sidebar-scroll">
            <nav id="nav-list">
                <div class="nav-btn active" onclick="switchView('Dashboard')">Dashboard</div>
                <div class="nav-btn" onclick="switchView('Schedules')">Schedules</div>
                <div class="nav-btn" onclick="switchView('Fleet')">Fleet</div>
                <div class="nav-btn" onclick="switchView('Customers')">Customers</div>
                <div class="nav-btn" onclick="switchView('Quotes')">Quotes</div>
                <div class="nav-btn" onclick="switchView('Audit')">Audit</div>
                <div class="nav-btn" onclick="switchView('Revenue')">Revenue</div>
                <div class="nav-btn" onclick="switchView('Support')">Support</div>
                <div class="nav-btn" onclick="switchView('Settings')">Settings</div>
            </nav>
        </div>

        <div class="p-10 border-t border-white/5 bg-black/40">
            <div class="flex items-center gap-4">
                <div class="w-3 h-3 bg-blue-500 rounded-full animate-pulse shadow-[0_0_15px_#3b82f6]"></div>
                <span class="text-[11px] font-black uppercase text-blue-400 italic">M5 Titanium Hub</span>
            </div>
        </div>
    </aside>

    <!-- MAIN VIEWPORT -->
    <main class="main-stage">
        <h1 id="view-title" class="titan-title">Dashboard</h1>

        <div id="DashboardContainer">
            
            <!-- THE WALL CALENDAR (INDESCTRUCTIBLE GRID) -->
            <div class="card">
                <div class="flex justify-between items-center mb-12 px-2">
                    <h2 class="text-4xl font-black italic uppercase text-white" id="month-label">December 2025</h2>
                    <div class="flex gap-4">
                        <button onclick="changeMonth(-1)" class="w-14 h-14 bg-white/5 border border-white/10 rounded-2xl flex items-center justify-center hover:bg-blue-600 transition-all text-sm">◀</button>
                        <button onclick="changeMonth(1)" class="w-14 h-14 bg-white/5 border border-white/10 rounded-2xl flex items-center justify-center hover:bg-blue-600 transition-all text-sm">▶</button>
                    </div>
                </div>

                <table id="calendar-table">
                    <thead>
                        <tr>
                            <th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th>
                        </tr>
                    </thead>
                    <tbody id="calendar-body">
                        <!-- Date cells injected by JS -->
                    </tbody>
                </table>
            </div>

            <!-- SUMMARY STATS -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-12">
                <div class="card">
                    <p class="text-[11px] font-bold text-gray-500 uppercase tracking-widest mb-4">Total Node Revenue</p>
                    <h3 class="text-7xl font-black italic">$142,850</h3>
                </div>
                <div class="card">
                    <p class="text-[11px] font-bold text-blue-500 uppercase tracking-widest mb-4">Sync Integrity</p>
                    <h3 class="text-7xl font-black italic text-blue-400">99.1%</h3>
                </div>
            </div>

        </div>

        <!-- TILE EDITOR (The "Edible" Logic) -->
        <div id="EditorContainer" class="hidden">
            <div class="node-editor">
                <div class="flex justify-between items-center mb-10">
                    <div>
                        <h4 class="text-4xl font-black italic uppercase text-white" id="editor-date-text">Date Node</h4>
                        <p class="text-[11px] font-bold text-blue-500 uppercase tracking-widest mt-2 italic">Modify Appointment Data</p>
                    </div>
                    <button onclick="closeEditor()" class="bg-white/5 px-8 py-4 rounded-2xl font-black text-xs hover:text-white">✕ CANCEL</button>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                    <div>
                        <label class="text-[11px] font-bold text-gray-500 uppercase mb-2 block tracking-widest">Client Identity</label>
                        <input type="text" id="node-client" class="node-input" placeholder="Sarah Miller">
                    </div>
                    <div>
                        <label class="text-[11px] font-bold text-gray-500 uppercase mb-2 block tracking-widest">Assigned Truck</label>
                        <input type="text" id="node-truck" class="node-input" placeholder="Titan-01">
                    </div>
                </div>

                <button onclick="saveNode()" class="mt-12 w-full bg-blue-600 py-6 rounded-2xl font-black uppercase italic tracking-[0.3em] text-sm shadow-2xl hover:bg-blue-500 transition-all">
                    Synchronize Node
                </button>
            </div>
        </div>

        <!-- AUDIT VIEW -->
        <div id="AuditContainer" class="hidden">
            <div class="card max-w-2xl">
                <p class="text-[11px] font-black text-blue-400 uppercase tracking-widest mb-10 italic">// Commission Audit Node</p>
                <div class="space-y-12">
                    <input type="number" value="450" class="w-full bg-black text-8xl font-black outline-none" id="aud-in" oninput="document.getElementById('aud-res').innerText = '$' + (this.value * 4.5 * 0.12).toFixed(2)">
                    <div class="pt-12 border-t border-white/5">
                        <h3 class="text-9xl font-black italic text-blue-400 leading-none" id="aud-res">$243.00</h3>
                    </div>
                </div>
            </div>
        </div>

        <div class="absolute top-0 right-0 w-[1200px] h-[1200px] bg-blue-600/[0.02] blur-[200px] pointer-events-none rounded-full"></div>
    </main>

    <script>
        const app = {
            currentMonth: new Date(2025, 11, 1),
            selectedKey: null,
            jobs: {
                "2025-12-22": { client: "Sarah Jenkins", truck: "T-01" },
                "2025-12-24": { client: "Holiday Route", truck: "T-03" }
            }
        };

        function renderCalendar() {
            const body = document.getElementById('calendar-body');
            const year = app.currentMonth.getFullYear();
            const month = app.currentMonth.getMonth();
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const label = new Intl.DateTimeFormat('en-US', { month: 'long', year: 'numeric' }).format(app.currentMonth);

            document.getElementById('month-label').innerText = label;
            body.innerHTML = '';

            let date = 1;
            for (let i = 0; i < 6; i++) {
                let row = document.createElement('tr');
                for (let j = 0; j < 7; j++) {
                    let cell = document.createElement('td');
                    cell.className = 'date-tile';
                    
                    if (i === 0 && j < firstDay) {
                        cell.style.background = 'transparent';
                        cell.style.border = 'none';
                    } else if (date > daysInMonth) {
                        cell.style.background = 'transparent';
                        cell.style.border = 'none';
                    } else {
                        const key = `${year}-${String(month+1).padStart(2,'0')}-${String(date).padStart(2,'0')}`;
                        const job = app.jobs[key];
                        const currentDay = date;
                        
                        cell.innerHTML = `
                            <div style="display:flex; flex-direction:column; height:100%;">
                                <span style="font-size:16px; font-weight:800; color:${job ? '#3b82f6' : '#555'};">${currentDay}</span>
                                ${job ? '<div class="job-node-marker"></div>' : ''}
                            </div>
                        `;
                        cell.onclick = () => openEditor(key);
                        if (app.selectedKey === key) {
                            cell.style.borderColor = '#3b82f6';
                            cell.style.backgroundColor = 'rgba(59, 130, 246, 0.1)';
                        }
                        date++;
                    }
                    row.appendChild(cell);
                }
                body.appendChild(row);
                if (date > daysInMonth) break;
            }
        }

        function switchView(name) {
            document.getElementById('view-title').innerText = name;
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.innerText.trim() === name) btn.classList.add('active');
            });

            document.getElementById('DashboardContainer').classList.add('hidden');
            document.getElementById('AuditContainer').classList.add('hidden');
            document.getElementById('EditorContainer').classList.add('hidden');

            if (name === 'Dashboard' || name === 'Schedules') {
                document.getElementById('DashboardContainer').classList.remove('hidden');
                renderCalendar();
            } else if (name === 'Audit') {
                document.getElementById('AuditContainer').classList.remove('hidden');
            }
        }

        function openEditor(key) {
            app.selectedKey = key;
            const job = app.jobs[key] || { client: '', truck: '' };
            document.getElementById('editor-date-text').innerText = new Date(key + "T00:00:00").toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
            document.getElementById('node-client').value = job.client;
            document.getElementById('node-truck').value = job.truck;
            document.getElementById('EditorContainer').classList.remove('hidden');
            document.getElementById('EditorContainer').scrollIntoView({ behavior: 'smooth' });
            renderCalendar();
        }

        function closeEditor() {
            document.getElementById('EditorContainer').classList.add('hidden');
            app.selectedKey = null;
            renderCalendar();
        }

        function saveNode() {
            const key = app.selectedKey;
            app.jobs[key] = {
                client: document.getElementById('node-client').value,
                truck: document.getElementById('node-truck').value
            };
            closeEditor();
        }

        function changeMonth(dir) {
            app.currentMonth.setMonth(app.currentMonth.getMonth() + dir);
            renderCalendar();
        }

        window.onload = renderCalendar;
    </script>
</body>
</html>

